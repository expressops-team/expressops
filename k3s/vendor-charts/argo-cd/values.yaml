argo-cd:
  # Configuración global
  global:
    storageClass: "juicefs-gcs-redis-canonica"

  # Configuración del servidor de repositorios de Argo CD
  repoServer:
    nodeSelector:
      kubernetes.io/hostname: it-school-2025-4
    persistence:
      enabled: true
      storageClassName: "juicefs-gcs-redis-canonica"
      accessModes:
        - ReadWriteOnce
      size: "10Gi"
    resources:
      limits:
        memory: 3Gi
      requests:
        cpu: 300m
        memory: 3Gi
    replicas: 1

  # Configuración de Dex (Servicio de Identidad OIDC)
  dex:
    enabled: true
    persistence:
      enabled: true
      storageClass: "juicefs-gcs-redis-canonica"
      accessModes:
        - ReadWriteOnce
      size: "2Gi"

  # Configuración de Redis
  redis:
    enabled: true
    master:
      nodeSelector:
        kubernetes.io/hostname: it-school-2025-4
      persistence:
        enabled: true
        storageClass: "juicefs-gcs-redis-canonica"
        accessModes:
          - ReadWriteOnce
        size: "8Gi"
      resources:
        limits:
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 512Mi
    replica:
      replicaCount: 0
      persistence:
        enabled: false

  # Configuración para Redis HA (Alta Disponibilidad)
  redis-ha:
    enabled: false

  # Configuración del servidor
  server:
    nodeSelector:
      kubernetes.io/hostname: it-school-2025-4
    persistence:
      enabled: true
      storageClass: "juicefs-gcs-redis-canonica"
      accessModes:
        - ReadWriteOnce
      size: "2Gi"
      name: argocd-server-data
      mountPath: /app/config/server/tls
    resources:
      limits:
        memory: 128Mi
      requests:
        cpu: 10m
        memory: 128Mi

  # Configuración del controlador de aplicaciones
  controller:
    nodeSelector:
      kubernetes.io/hostname: it-school-2025-4
    persistence:
      enabled: true
      storageClass: "juicefs-gcs-redis-canonica"
      accessModes:
        - ReadWriteOnce
      size: "5Gi"
      name: argocd-controller-data
      mountPath: /app/config/controller
    resources:
      limits:
        memory: 2Gi
      requests:
        cpu: 300m
        memory: 2Gi

  # Configuración para el controlador de notificaciones
  notifications:
    enabled: true
    persistence:
      enabled: true
      storageClass: "juicefs-gcs-redis-canonica"
      accessModes:
        - ReadWriteOnce
      size: "2Gi"
    resources:
      limits:
        memory: 64Mi
      requests:
        cpu: 10m
        memory: 64Mi 